class ThemeCustomizer{constructor(){this.html=document.getElementsByTagName("html")[0],this.config={},this.defaultConfig=window.config,this.mainNavScrollbar=document.getElementsByClassName("scrollbar")[0]}initConfig(){this.defaultConfig=JSON.parse(JSON.stringify(window.defaultConfig)),this.config=JSON.parse(JSON.stringify(window.config)),this.setSwitchFromConfig()}initScrollBars(){this.initLeftSidebar(),document.querySelector(".left-side-menu .scrollbar")?.setAttribute("data-simplebar",""),document.querySelector(".left-side-menu .scrollbar")?.classList.add("h-100")}initLeftSidebar(){var a,n,e,i,o,s=this;$("#side-menu").length&&(i=$("#sidebar-menu li .collapse"),$("#sidebar-menu li [data-bs-toggle='collapse']").on("click",function(t){return!1}),i.on({"show.bs.collapse":function(t){var e=$(t.target).parents(".collapse.show");$("#sidebar-menu .collapse.show").not(t.target).not(e).collapse("hide")}}),$("#side-menu a").each(function(){var t=window.location.href.split(/[?#]/)[0];this.href==t&&($(this).addClass("active"),$(this).parent().addClass("menuitem-active"),$(this).parent().parent().parent().addClass("show"),$(this).parent().parent().parent().parent().addClass("menuitem-active"),$(this).parent().parent().parent().parent().parent().parent().parent().addClass("menuitem-active"),"sidebar-menu"!==(t=$(this).parent().parent().parent().parent().parent().parent()).attr("id")&&t.addClass("show"),"wrapper"!==(t=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent()).attr("id")&&t.addClass("show"),(t=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent().parent()).is("body")||t.addClass("menuitem-active"))})),$("#two-col-sidenav-main").length&&(a=$("#two-col-sidenav-main .nav-link"),n=$(".twocolumn-menu-item"),e=$(".twocolumn-menu-item .nav-second-level"),(i=$("#two-col-menu li .collapse")).on({"show.bs.collapse":function(){var t=$(this).closest(e).closest(e).find(i);(t.length?t:i).not($(this)).collapse("hide")}}),a.on("click",function(t){var e=$($(this).attr("href"));return e.length&&(t.preventDefault(),a.removeClass("active"),$(this).addClass("active"),n.removeClass("d-block"),e.addClass("d-block"),1040<=window.innerWidth)&&s.changeLeftbarSize("default"),!0}),o=window.location.href,a.each(function(){this.href===o&&$(this).addClass("active")}),$("#two-col-menu a").each(function(){var t,e,a;this.href==o&&($(this).addClass("active"),$(this).parent().addClass("menuitem-active"),$(this).parent().parent().parent().addClass("show"),$(this).parent().parent().parent().parent().addClass("menuitem-active"),"sidebar-menu"!==(t=$(this).parent().parent().parent().parent().parent().parent()).attr("id")&&t.addClass("show"),$(this).parent().parent().parent().parent().parent().parent().parent().addClass("menuitem-active"),"wrapper"!==(t=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent()).attr("id")&&t.addClass("show"),(t=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent().parent()).is("body")||t.addClass("menuitem-active"),e=null,a="#"+$(this).parents(".twocolumn-menu-item").attr("id"),$("#two-col-sidenav-main .nav-link").each(function(){$(this).attr("href")===a&&(e=$(this))}),e)&&e.trigger("click")})),setTimeout(function(){var t,n,i,o,s,r,e=document.querySelector("li.menuitem-active .active");function d(){t=r+=20,e=o,a=s;var t,e,a=(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e;n.scrollTop=a,r<i&&setTimeout(d,20)}null!=e&&(t=document.querySelector(".left-side-menu .simplebar-content-wrapper"),e=e.offsetTop-300,t)&&100<e&&(i=600,o=(n=t).scrollTop,s=e-o,r=0,d())},200)}initHorizontalLayout(){$(".navbar-nav a").each(function(){var t=window.location.href.split(/[?#]/)[0];this.href==t&&($(this).addClass("active"),$(this).parent().addClass("active"),$(this).parent().parent().addClass("active"),$(this).parent().parent().parent().addClass("active"),$(this).parent().parent().parent().parent().addClass("active"),(t=$(this).parent().parent().parent().parent().addClass("active").prev()).hasClass("nav-link"))&&t.addClass("active")})}reverseQuery(t,e){for(;t;){if(t.parentElement&&t.parentElement.querySelector(e)===t)return t;t=t.parentElement}return null}changeThemeMode(t){this.config.theme=t,this.html.setAttribute("data-bs-theme",t),this.setSwitchFromConfig()}changeLayoutPosition(t){this.html.setAttribute("data-layout-position",t),this.config.layout.position=t,this.setSwitchFromConfig()}changeLayoutWidth(t,e=!0){this.html.setAttribute("data-layout-width",t),e&&(this.config.layout.width=t,this.setSwitchFromConfig())}changeMenuColor(t){this.config.menu.color=t,this.html.setAttribute("data-menu-color",t),this.setSwitchFromConfig()}changeLeftbarSize(t,e=!0){this.html.setAttribute("data-sidebar-size",t),e&&(this.config.sidebar.size=t,this.setSwitchFromConfig())}changeTopbarColor(t){this.config.topbar.color=t,this.html.setAttribute("data-topbar-color",t),this.setSwitchFromConfig()}changeSidebarUser(t){(this.config.sidebar.user=t)?this.html.setAttribute("data-sidebar-user",t):this.html.removeAttribute("data-sidebar-user"),this.setSwitchFromConfig()}resetTheme(){this.config=JSON.parse(JSON.stringify(window.defaultConfig)),this.changeThemeMode(this.config.theme),this.changeLayoutPosition(this.config.layout.position),this.changeLayoutWidth(this.config.layout.width),this.changeMenuColor(this.config.menu.color),this.changeTopbarColor(this.config.topbar.color),this.changeLeftbarSize(this.config.sidebar.size),this.adjustLayout()}initSwitchListener(){var a=this,t=(document.querySelectorAll("input[name=data-layout]").forEach(function(e){e.addEventListener("change",function(t){a.changeLayout(e.value)})}),document.querySelectorAll("input[name=data-menu-color]").forEach(function(e){e.addEventListener("change",function(t){a.changeMenuColor(e.value)})}),document.querySelectorAll("input[name=data-sidebar-size]").forEach(function(e){e.addEventListener("change",function(t){a.changeLeftbarSize(e.value)})}),document.querySelectorAll("input[name=data-bs-theme]").forEach(function(e){e.addEventListener("change",function(t){a.changeThemeMode(e.value)})}),document.querySelectorAll("input[name=data-layout-position]").forEach(function(e){e.addEventListener("change",function(t){a.changeLayoutPosition(e.value)})}),document.querySelectorAll("input[name=data-layout-width]").forEach(function(e){e.addEventListener("change",function(t){a.changeLayoutWidth(e.value)})}),document.querySelectorAll("input[name=data-topbar-color]").forEach(function(e){e.addEventListener("change",function(t){a.changeTopbarColor(e.value)})}),document.querySelectorAll("input[name=data-sidebar-user]").forEach(function(e){e.addEventListener("change",function(t){a.changeSidebarUser(e.checked)})}),document.getElementById("light-dark-mode")),t=(t&&t.addEventListener("click",function(t){"light"===a.config.theme?a.changeThemeMode("dark"):a.changeThemeMode("light")}),document.querySelector("#resetBtn")),t=(t&&t.addEventListener("click",function(t){a.resetTheme()}),document.querySelector(".button-menu-mobile"));t&&t.addEventListener("click",function(){var t=a.config.sidebar.size,e=a.html.getAttribute("data-sidebar-size",t);"full"===e?a.showBackdrop():"condensed"===e?a.changeLeftbarSize("condensed"==t?"default":t,!1):a.changeLeftbarSize("condensed",!1),a.html.classList.toggle("sidebar-enable")})}showBackdrop(){var t=document.createElement("div");t.id="custom-backdrop",t.classList="offcanvas-backdrop fade show",document.body.appendChild(t),"rtl"!=document.getElementsByTagName("html")[0]?.getAttribute("dir")&&(document.body.style.overflow="hidden",1140<window.innerWidth)&&(document.body.style.paddingRight="15px");let e=this;t.addEventListener("click",function(t){e.html.classList.remove("sidebar-enable"),e.hideBackdrop()})}hideBackdrop(){var t=document.getElementById("custom-backdrop");t&&(document.body.removeChild(t),document.body.style.overflow=null,document.body.style.paddingRight=null)}initWindowSize(){var e=this;window.addEventListener("resize",function(t){e.adjustLayout()})}adjustLayout(){window.innerWidth<=991.98?html.setAttribute("data-sidebar-size","full"):991.98<=window.innerWidth&&window.innerWidth<=1140?"full"!==this.config.sidebar.size&&html.setAttribute("data-sidebar-size","condensed"):this.changeLeftbarSize(this.config.sidebar.size)}setSwitchFromConfig(){sessionStorage.setItem("__MINTON_CONFIG__",JSON.stringify(this.config)),document.querySelectorAll(".right-bar input[type=checkbox]").forEach(function(t){t.checked=!1});var t,e,a,n,i,o,s,r=this.config;r&&(t=document.querySelector("input[type=checkbox][name=data-bs-theme][value="+r.theme+"]"),e=document.querySelector("input[type=checkbox][name=data-layout-width][value="+r.layout.width+"]"),a=document.querySelector("input[type=checkbox][name=data-layout-position][value="+r.layout.position+"]"),n=document.querySelector("input[type=checkbox][name=data-topbar-color][value="+r.topbar.color+"]"),i=document.querySelector("input[type=checkbox][name=data-menu-color][value="+r.menu.color+"]"),o=document.querySelector("input[type=checkbox][name=data-sidebar-size][value="+r.sidebar.size+"]"),s=document.querySelector("input[type=checkbox][name=data-sidebar-user]"),t&&(t.checked=!0),a&&(a.checked=!0),e&&(e.checked=!0),n&&(n.checked=!0),i&&(i.checked=!0),o&&(o.checked=!0),s)&&"true"===r.sidebar.user.toString()&&(s.checked=!0)}init(){this.initConfig(),this.initScrollBars(),this.initLeftSidebar(),this.initHorizontalLayout(),this.initSwitchListener(),this.initWindowSize(),this.adjustLayout(),this.setSwitchFromConfig()}}(new ThemeCustomizer).init(),(o=>{function t(){o(window).on("load",function(){o("#status").fadeOut(),o("#preloader").delay(350).fadeOut("slow")});[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(t=>new bootstrap.Popover(t)),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(t=>new bootstrap.Tooltip(t)),[...document.querySelectorAll(".offcanvas")].map(t=>new bootstrap.Offcanvas(t));var t=document.getElementById("toastPlacement");t&&document.getElementById("selectToastPlacement").addEventListener("change",function(){t.dataset.originalClass||(t.dataset.originalClass=t.className),t.className=t.dataset.originalClass+" "+this.value});[].slice.call(document.querySelectorAll(".toast")).map(function(t){return new bootstrap.Toast(t)});let n=document.getElementById("liveAlertPlaceholder");var e=document.getElementById("liveAlertBtn"),a=(e&&e.addEventListener("click",()=>{var t,e,a;t="Nice, you triggered this alert message!",e="success",(a=document.createElement("div")).innerHTML=[`<div class="alert alert-${e} alert-dismissible" role="alert">`,`   <div>${t}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),n.append(a)}),document.getElementById("app-stylesheet").href.includes("rtl.min.css")&&(document.getElementsByTagName("html")[0].dir="rtl"),o(this).attr("data-delay")?o(this).attr("data-delay"):100),i=o(this).attr("data-time")?o(this).attr("data-time"):1200;o('[data-plugin="counterup"]').each(function(t,e){o(this).counterUp({delay:a,time:i})}),o('[data-plugin="peity-pie"]').each(function(t,e){var a=o(this).attr("data-colors")?o(this).attr("data-colors").split(","):[],n=o(this).attr("data-width")?o(this).attr("data-width"):20,i=o(this).attr("data-height")?o(this).attr("data-height"):20;o(this).peity("pie",{fill:a,width:n,height:i})}),o('[data-plugin="peity-donut"]').each(function(t,e){var a=o(this).attr("data-colors")?o(this).attr("data-colors").split(","):[],n=o(this).attr("data-width")?o(this).attr("data-width"):20,i=o(this).attr("data-height")?o(this).attr("data-height"):20;o(this).peity("donut",{fill:a,width:n,height:i})}),o('[data-plugin="peity-donut-alt"]').each(function(t,e){o(this).peity("donut")}),o('[data-plugin="peity-line"]').each(function(t,e){o(this).peity("line",o(this).data())}),o('[data-plugin="peity-bar"]').each(function(t,e){var a=o(this).attr("data-colors")?o(this).attr("data-colors").split(","):[],n=o(this).attr("data-width")?o(this).attr("data-width"):20,i=o(this).attr("data-height")?o(this).attr("data-height"):20;o(this).peity("bar",{fill:a,width:n,height:i})}),o('[data-plugin="knob"]').each(function(t,e){o(this).knob()}),0<o('[data-plugin="tippy"]').length&&tippy('[data-plugin="tippy"]'),o("[data-password]").on("click",function(){"false"==o(this).attr("data-password")?(o(this).siblings("input").attr("type","text"),o(this).attr("data-password","true"),o(this).addClass("show-password")):(o(this).siblings("input").attr("type","password"),o(this).attr("data-password","false"),o(this).removeClass("show-password"))}),o(".dropdown-menu a.dropdown-toggle").on("click",function(t){return o(this).next().hasClass("show")||o(this).parents(".dropdown-menu").first().find(".show").removeClass("show"),o(this).next(".dropdown-menu").toggleClass("show"),!1}),Waves.init()}var e,a,i,n;t(),o(document).on("click",'.card a[data-toggle="remove"]',function(t){t.preventDefault();var t=o(this).closest(".card"),e=t.parent();t.remove(),0==e.children().length&&e.remove()}),o(document).on("click",'.card a[data-toggle="reload"]',function(t){t.preventDefault();var t=o(this).closest(".card"),e=(t.append('<div class="card-disabled"><div class="card-portlets-loader"><div class="spinner-border text-primary m-2" role="status"></div></div></div>'),t.find(".card-disabled"));setTimeout(function(){e.fadeOut("fast",function(){e.remove()})},500+5*Math.random()*300)}),o(".dropdown-menu a.dropdown-toggle").on("click",function(){var t=o(this).next(".dropdown-menu"),t=o(this).parent().parent().find(".dropdown-menu").not(t);return t.removeClass("show"),t.parent().find(".dropdown-toggle").removeClass("show"),!1}),e=o(".navbar-custom .dropdown:not(.app-search)"),o(document).on("click",function(t){return"top-search"==t.target.id||t.target.closest("#search-dropdown")?o("#search-dropdown").addClass("d-block"):o("#search-dropdown").removeClass("d-block"),!0}),o("#top-search").on("focus",function(t){return t.preventDefault(),e.children(".dropdown-menu.show").removeClass("show"),o("#search-dropdown").addClass("d-block"),!1}),e.on("show.bs.dropdown",function(){o("#search-dropdown").removeClass("d-block")}),(a=document.querySelector('[data-toggle="fullscreen"]'))&&a.addEventListener("click",function(t){t.preventDefault(),document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}),o("[data-password]").on("click",function(){"false"==o(this).attr("data-password")?(o(this).siblings("input").attr("type","text"),o(this).attr("data-password","true"),o(this).addClass("show-password")):(o(this).siblings("input").attr("type","password"),o(this).attr("data-password","false"),o(this).removeClass("show-password"))}),document.querySelectorAll(".needs-validation").forEach(e=>{e.addEventListener("submit",t=>{e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)}),jQuery().select2&&o('[data-toggle="select2"]').select2(),jQuery().mask&&o('[data-toggle="input-mask"]').each(function(t,e){var a=o(e).data("maskFormat"),n=o(e).data("reverse");null!=n?o(e).mask(a,{reverse:n}):o(e).mask(a)}),jQuery().daterangepicker&&(i={startDate:moment().subtract(29,"days"),endDate:moment(),ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},o('[data-toggle="date-picker-range"]').each(function(t,e){var a=o.extend({},i,o(e).data()),n=a.targetDisplay;o(e).daterangepicker(a,function(t,e){n&&o(n).html(t.format("MMMM D, YYYY")+" - "+e.format("MMMM D, YYYY"))})}),n={cancelClass:"btn-light",applyButtonClasses:"btn-success"},o('[data-toggle="date-picker"]').each(function(t,e){var a=o.extend({},n,o(e).data());o(e).daterangepicker(a)})),jQuery().timepicker&&(n={showSeconds:!0,icons:{up:"mdi mdi-chevron-up",down:"mdi mdi-chevron-down"}},o('[data-toggle="timepicker"]').each(function(t,e){var a=o.extend({},n,o(e).data());o(e).timepicker(a)})),jQuery().TouchSpin&&(n={},o('[data-toggle="touchspin"]').each(function(t,e){var a=o.extend({},n,o(e).data());o(e).TouchSpin(a)})),jQuery().maxlength&&(n={warningClass:"badge bg-success",limitReachedClass:"badge bg-danger",separator:" out of ",preText:"You typed ",postText:" chars available.",placement:"bottom"},o('[data-toggle="maxlength"]').each(function(t,e){var a=o.extend({},n,o(e).data());o(e).maxlength(a)}))})(jQuery);