class ThemeCustomizer{constructor(){this.html=document.getElementsByTagName("html")[0],this.config={},this.defaultConfig=window.config,this.mainNavScrollbar=document.getElementsByClassName("scrollbar")[0]}initConfig(){this.defaultConfig=JSON.parse(JSON.stringify(window.defaultConfig)),this.config=JSON.parse(JSON.stringify(window.config)),this.setSwitchFromConfig()}initScrollBars(){this.initLeftSidebar(),document.querySelector(".left-side-menu .scrollbar")?.setAttribute("data-simplebar",""),document.querySelector(".left-side-menu .scrollbar")?.classList.add("h-100")}initLeftSidebar(){var e=this;if($("#side-menu").length){var t=$("#sidebar-menu li .collapse");$("#sidebar-menu li [data-bs-toggle='collapse']").on("click",(function(e){return!1})),t.on({"show.bs.collapse":function(e){var t=$(e.target).parents(".collapse.show");$("#sidebar-menu .collapse.show").not(e.target).not(t).collapse("hide")}}),$("#side-menu a").each((function(){var e=window.location.href.split(/[?#]/)[0];if(this.href==e){$(this).addClass("active"),$(this).parent().addClass("menuitem-active"),$(this).parent().parent().parent().addClass("show"),$(this).parent().parent().parent().parent().addClass("menuitem-active"),$(this).parent().parent().parent().parent().parent().parent().parent().addClass("menuitem-active");var t=$(this).parent().parent().parent().parent().parent().parent();"sidebar-menu"!==t.attr("id")&&t.addClass("show");var a=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent();"wrapper"!==a.attr("id")&&a.addClass("show");var n=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent().parent();n.is("body")||n.addClass("menuitem-active")}}))}if($("#two-col-sidenav-main").length){var a=$("#two-col-sidenav-main .nav-link"),n=$(".twocolumn-menu-item"),i=$(".twocolumn-menu-item .nav-second-level");(t=$("#two-col-menu li .collapse")).on({"show.bs.collapse":function(){var e=$(this).closest(i).closest(i).find(t);e.length?e.not($(this)).collapse("hide"):t.not($(this)).collapse("hide")}}),a.on("click",(function(t){var i=$($(this).attr("href"));return i.length&&(t.preventDefault(),a.removeClass("active"),$(this).addClass("active"),n.removeClass("d-block"),i.addClass("d-block"),window.innerWidth>=1040&&e.changeLeftbarSize("default")),!0}));var r=window.location.href;a.each((function(){this.href===r&&$(this).addClass("active")})),$("#two-col-menu a").each((function(){if(this.href==r){$(this).addClass("active"),$(this).parent().addClass("menuitem-active"),$(this).parent().parent().parent().addClass("show"),$(this).parent().parent().parent().parent().addClass("menuitem-active");var e=$(this).parent().parent().parent().parent().parent().parent();"sidebar-menu"!==e.attr("id")&&e.addClass("show"),$(this).parent().parent().parent().parent().parent().parent().parent().addClass("menuitem-active");var t=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent();"wrapper"!==t.attr("id")&&t.addClass("show");var a=$(this).parent().parent().parent().parent().parent().parent().parent().parent().parent().parent();a.is("body")||a.addClass("menuitem-active");var n=null,i="#"+$(this).parents(".twocolumn-menu-item").attr("id");$("#two-col-sidenav-main .nav-link").each((function(){$(this).attr("href")===i&&(n=$(this))})),n&&n.trigger("click")}}))}setTimeout((function(){var e,t,a,n,i,r,o,s,c=document.querySelector("li.menuitem-active .active");if(null!=c){var d=document.querySelector(".left-side-menu .simplebar-content-wrapper"),l=c.offsetTop-300;d&&l>100&&(t=l,a=600,n=(e=d).scrollTop,i=t-n,r=0,o=20,(s=function(){var t,c,d,l=(t=r+=o,c=n,d=i,(t/=a/2)<1?d/2*t*t+c:(t--,-d/2*(t*(t-2)-1)+c));e.scrollTop=l,r<a&&setTimeout(s,o)})())}}),200)}initHorizontalLayout(){$(".navbar-nav a").each((function(){var e=window.location.href.split(/[?#]/)[0];if(this.href==e){$(this).addClass("active"),$(this).parent().addClass("active"),$(this).parent().parent().addClass("active"),$(this).parent().parent().parent().addClass("active"),$(this).parent().parent().parent().parent().addClass("active");var t=$(this).parent().parent().parent().parent().addClass("active").prev();t.hasClass("nav-link")&&t.addClass("active")}}))}reverseQuery(e,t){for(;e;){if(e.parentElement&&e.parentElement.querySelector(t)===e)return e;e=e.parentElement}return null}changeThemeMode(e){this.config.theme=e,this.html.setAttribute("data-bs-theme",e),this.setSwitchFromConfig()}changeLayoutPosition(e){this.html.setAttribute("data-layout-position",e),this.config.layout.position=e,this.setSwitchFromConfig()}changeLayoutWidth(e,t=!0){this.html.setAttribute("data-layout-width",e),t&&(this.config.layout.width=e,this.setSwitchFromConfig())}changeMenuColor(e){this.config.menu.color=e,this.html.setAttribute("data-menu-color",e),this.setSwitchFromConfig()}changeLeftbarSize(e,t=!0){this.html.setAttribute("data-sidebar-size",e),t&&(this.config.sidebar.size=e,this.setSwitchFromConfig())}changeTopbarColor(e){this.config.topbar.color=e,this.html.setAttribute("data-topbar-color",e),this.setSwitchFromConfig()}changeSidebarUser(e){this.config.sidebar.user=e,e?this.html.setAttribute("data-sidebar-user",e):this.html.removeAttribute("data-sidebar-user"),this.setSwitchFromConfig()}resetTheme(){this.config=JSON.parse(JSON.stringify(window.defaultConfig)),this.changeThemeMode(this.config.theme),this.changeLayoutPosition(this.config.layout.position),this.changeLayoutWidth(this.config.layout.width),this.changeMenuColor(this.config.menu.color),this.changeTopbarColor(this.config.topbar.color),this.changeLeftbarSize(this.config.sidebar.size),this.adjustLayout()}initSwitchListener(){var e=this;document.querySelectorAll("input[name=data-layout]").forEach((function(t){t.addEventListener("change",(function(a){e.changeLayout(t.value)}))})),document.querySelectorAll("input[name=data-menu-color]").forEach((function(t){t.addEventListener("change",(function(a){e.changeMenuColor(t.value)}))})),document.querySelectorAll("input[name=data-sidebar-size]").forEach((function(t){t.addEventListener("change",(function(a){e.changeLeftbarSize(t.value)}))})),document.querySelectorAll("input[name=data-bs-theme]").forEach((function(t){t.addEventListener("change",(function(a){e.changeThemeMode(t.value)}))})),document.querySelectorAll("input[name=data-layout-position]").forEach((function(t){t.addEventListener("change",(function(a){e.changeLayoutPosition(t.value)}))})),document.querySelectorAll("input[name=data-layout-width]").forEach((function(t){t.addEventListener("change",(function(a){e.changeLayoutWidth(t.value)}))})),document.querySelectorAll("input[name=data-topbar-color]").forEach((function(t){t.addEventListener("change",(function(a){e.changeTopbarColor(t.value)}))})),document.querySelectorAll("input[name=data-sidebar-user]").forEach((function(t){t.addEventListener("change",(function(a){e.changeSidebarUser(t.checked)}))}));var t=document.getElementById("light-dark-mode");t&&t.addEventListener("click",(function(t){"light"===e.config.theme?e.changeThemeMode("dark"):e.changeThemeMode("light")}));var a=document.querySelector("#resetBtn");a&&a.addEventListener("click",(function(t){e.resetTheme()}));var n=document.querySelector(".button-menu-mobile");n&&n.addEventListener("click",(function(){var t=e.config.sidebar.size,a=e.html.getAttribute("data-sidebar-size",t);"full"===a?e.showBackdrop():"condensed"===a?e.changeLeftbarSize("condensed"==t?"default":t,!1):e.changeLeftbarSize("condensed",!1),e.html.classList.toggle("sidebar-enable")}))}showBackdrop(){const e=document.createElement("div");e.id="custom-backdrop",e.classList="offcanvas-backdrop fade show",document.body.appendChild(e),"rtl"!=document.getElementsByTagName("html")[0]?.getAttribute("dir")&&(document.body.style.overflow="hidden",window.innerWidth>1140&&(document.body.style.paddingRight="15px"));const t=this;e.addEventListener("click",(function(e){t.html.classList.remove("sidebar-enable"),t.hideBackdrop()}))}hideBackdrop(){var e=document.getElementById("custom-backdrop");e&&(document.body.removeChild(e),document.body.style.overflow=null,document.body.style.paddingRight=null)}initWindowSize(){var e=this;window.addEventListener("resize",(function(t){e.adjustLayout()}))}adjustLayout(){var e=this;window.innerWidth<=991.98?html.setAttribute("data-sidebar-size","full"):window.innerWidth>=991.98&&window.innerWidth<=1140?"full"!==e.config.sidebar.size&&html.setAttribute("data-sidebar-size","condensed"):e.changeLeftbarSize(e.config.sidebar.size)}setSwitchFromConfig(){sessionStorage.setItem("__MINTON_CONFIG__",JSON.stringify(this.config)),document.querySelectorAll(".right-bar input[type=checkbox]").forEach((function(e){e.checked=!1}));var e=this.config;if(e){var t=document.querySelector("input[type=checkbox][name=data-bs-theme][value="+e.theme+"]"),a=document.querySelector("input[type=checkbox][name=data-layout-width][value="+e.layout.width+"]"),n=document.querySelector("input[type=checkbox][name=data-layout-position][value="+e.layout.position+"]"),i=document.querySelector("input[type=checkbox][name=data-topbar-color][value="+e.topbar.color+"]"),r=document.querySelector("input[type=checkbox][name=data-menu-color][value="+e.menu.color+"]"),o=document.querySelector("input[type=checkbox][name=data-sidebar-size][value="+e.sidebar.size+"]"),s=document.querySelector("input[type=checkbox][name=data-sidebar-user]");t&&(t.checked=!0),n&&(n.checked=!0),a&&(a.checked=!0),i&&(i.checked=!0),r&&(r.checked=!0),o&&(o.checked=!0),s&&"true"===e.sidebar.user.toString()&&(s.checked=!0)}}init(){this.initConfig(),this.initScrollBars(),this.initLeftSidebar(),this.initHorizontalLayout(),this.initSwitchListener(),this.initWindowSize(),this.adjustLayout(),this.setSwitchFromConfig()}}(new ThemeCustomizer).init();