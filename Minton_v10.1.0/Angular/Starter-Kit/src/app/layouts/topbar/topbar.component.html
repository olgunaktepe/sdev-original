<div class="navbar-custom">
  <div class="container-fluid">
    <ul class="list-unstyled topnav-menu float-end mb-0">
      <li class="d-none d-lg-block">
        <form class="app-search">
          <div
            ngbDropdown
            #myDrop="ngbDropdown"
            autoClose="outside"
            class="app-search-box dropdown"
          >
            <div class="input-group">
              <input
                ngbDropdownAnchor
                (focus)="myDrop.open()"
                type="search"
                class="form-control"
                placeholder="Search..."
                id="top-search"
              />

              <button class="btn" type="submit">
                <i class="fe-search"></i>
              </button>
            </div>
            <div
              ngbDropdownMenu
              class="dropdown-menu dropdown-lg"
              id="search-dropdown"
            >
              <!-- item-->
              <div class="dropdown-header noti-title">
                <h5 class="text-overflow mb-2">
                  Found <span class="text-danger">09</span> results
                </h5>
              </div>

              <!-- item-->
              <a href="javascript:void(0);" class="dropdown-item notify-item">
                <i class="fe-home me-1"></i>
                <span>Analytics Report</span>
              </a>

              <!-- item-->
              <a href="javascript:void(0);" class="dropdown-item notify-item">
                <i class="fe-aperture me-1"></i>
                <span>How can I help you?</span>
              </a>

              <!-- item-->
              <a href="javascript:void(0);" class="dropdown-item notify-item">
                <i class="fe-settings me-1"></i>
                <span>User profile settings</span>
              </a>

              <!-- item-->
              <div class="dropdown-header noti-title">
                <h6 class="text-overflow mb-2 text-uppercase">Users</h6>
              </div>

              <div class="notification-list">
                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <div class="d-flex">
                    <img
                      class="d-flex me-2 rounded-circle"
                      src="assets/images/users/avatar-2.jpg"
                      alt="Generic placeholder image"
                      height="32"
                    />
                    <div>
                      <h5 class="m-0 font-14">Erwin E. Brown</h5>
                      <span class="font-12 mb-0">UI Designer</span>
                    </div>
                  </div>
                </a>

                <!-- item-->
                <a href="javascript:void(0);" class="dropdown-item notify-item">
                  <div class="d-flex">
                    <img
                      class="d-flex me-2 rounded-circle"
                      src="assets/images/users/avatar-5.jpg"
                      alt="Generic placeholder image"
                      height="32"
                    />
                    <div>
                      <h5 class="m-0 font-14">Jacob Deo</h5>
                      <span class="font-12 mb-0">Developer</span>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </form>
      </li>

      <li ngbDropdown class="dropdown d-inline-block d-lg-none">
        <a
          ngbDropdownToggle
          class="nav-link dropdown-toggle arrow-none waves-effect waves-light"
          role="button"
        >
          <i class="fe-search noti-icon"></i>
        </a>
        <div
          ngbDropdownMenu
          class="dropdown-menu dropdown-lg dropdown-menu-end p-0"
        >
          <form class="p-3">
            <input
              type="text"
              class="form-control"
              placeholder="Search ..."
              aria-label="Search"
            />
          </form>
        </div>
      </li>

      <li class="d-none d-md-inline-block">
        <a
          class="nav-link dropdown-toggle arrow-none waves-effect waves-light"
          (click)="changeTheme()"
          id="light-dark-mode"
          role="button"
        >
          <i class="fe-moon noti-icon"></i>
        </a>
      </li>

      <li class="dropdown d-none d-lg-inline-block">
        <a
          class="nav-link dropdown-toggle arrow-none waves-effect waves-light"
          (click)="fullscreen()"
          data-toggle="fullscreen"
          href="javascript:void(0);"
        >
          <i class="fe-maximize noti-icon"></i>
        </a>
      </li>

      <li ngbDropdown class="d-none d-lg-inline-block topbar-dropdown">
        <a
          ngbDropdownToggle
          class="nav-link arrow-none waves-effect waves-light"
          role="button"
        >
          <i class="fe-grid noti-icon"></i>
        </a>
        <div ngbDropdownMenu class="dropdown-lg dropdown-menu-end p-0">
          <div class="p-2">
            @for (chunk of appsChunks; track $index) {
              <div class="row g-0">
                @for (item of chunk; track item) {
                  <div class="col">
                    <a class="dropdown-icon-item" href="javascript:void(0);">
                      <img [src]="item.icon" alt="Github" />
                      <span>{{ item.name }}</span>
                    </a>
                  </div>
                }
              </div>
            }
          </div>
        </div>
      </li>

      <li ngbDropdown class="d-none d-lg-inline-block topbar-dropdown">
        <a
          ngbDropdownToggle
          class="nav-link arrow-none waves-effect waves-light"
          role="button"
        >
          <img src="assets/images/flags/us.jpg" alt="user-image" height="14" />
        </a>
        <div ngbDropdownMenu class="dropdown-menu-end">
          @for (item of languages; track $index) {
            <a href="javascript:void(0);" class="dropdown-item">
              <img
                [src]="item.flag"
                alt="user-image"
                class="me-1"
                height="12"
              />
              <span class="align-middle">{{ item.name }}</span>
            </a>
          }
        </div>
      </li>

      <li ngbDropdown class="notification-list topbar-dropdown">
        <a
          ngbDropdownToggle
          class="nav-link waves-effect waves-light"
          role="button"
        >
          <i class="fe-bell noti-icon"></i>
          <span class="badge bg-danger rounded-circle noti-icon-badge">5</span>
        </a>
        <div ngbDropdownMenu class="dropdown-menu-end dropdown-lg">
          <!-- item-->
          <div class="dropdown-item noti-title">
            <h5 class="m-0">
              <span class="float-end">
                <a href="javascript:void(0);" class="text-dark">
                  <small>Clear All</small>
                </a> </span
              >Notification
            </h5>
          </div>

          <ngx-simplebar class="noti-scroll">
            @for (item of notificationList; track $index; let first = $first) {
              <a
                href="javascript:void(0);"
                class="dropdown-item notify-item"
                [class.active]="first"
              >
                <div
                  class="notify-icon bg-soft-{{ item.bgColor }} text-{{
                    item.bgColor
                  }}"
                >
                  @if (item.icon) {
                    <i [class]="item.icon"></i>
                  }
                  @if (item.avatar) {
                    <img
                      [src]="item.avatar"
                      class="img-fluid rounded-circle"
                      alt=""
                    />
                  }
                </div>
                <p class="notify-details">
                  {{ item.text }}
                  <small class="text-muted">{{ item.subText }}</small>
                </p>
              </a>
            }
          </ngx-simplebar>

          <!-- All-->
          <a
            href="javascript:void(0);"
            class="dropdown-item text-center text-primary notify-item notify-all"
          >
            View all
            <i class="fe-arrow-right"></i>
          </a>
        </div>
      </li>

      <li ngbDropdown class="notification-list topbar-dropdown">
        <a
          ngbDropdownToggle
          class="nav-link nav-user me-0 waves-effect waves-light"
          role="button"
        >
          <img
            src="assets/images/users/avatar-1.jpg"
            alt="user-image"
            class="rounded-circle"
          />
          <span class="pro-user-name ms-1">
            Nik Patel <i class="mdi mdi-chevron-down"></i>
          </span>
        </a>
        <div ngbDropdownMenu class="dropdown-menu-end profile-dropdown">
          <!-- item-->
          <div class="dropdown-header noti-title">
            <h6 class="text-overflow m-0">Welcome !</h6>
          </div>

          <!-- item-->
          @for (item of profileList; track $index) {
            <a href="javascript:void(0);" class="dropdown-item notify-item">
              <i [class]="item.icon"></i>
              <span
                >{{ item.label }}
                @if (item.badge) {
                  <span class="badge bg-{{ item.badge.variant }} float-end">{{
                    item.badge.text
                  }}</span>
                }
              </span>
            </a>
          }
        </div>
      </li>

      <li class="dropdown notification-list">
        <a
          class="nav-link waves-effect waves-light"
          data-bs-toggle="offcanvas"
          (click)="settingButton()"
        >
          <i class="fe-settings noti-icon"></i>
        </a>
      </li>
    </ul>

    <app-logo-box />

    <ul class="list-unstyled topnav-menu topnav-menu-left m-0">
      <li>
        <button
          (click)="toggleMobileMenu()"
          class="button-menu-mobile waves-effect waves-light"
        >
          <i class="fe-menu"></i>
        </button>
      </li>

      <li>
        <!-- Mobile menu toggle (Horizontal Layout)-->
        <a
          class="navbar-toggle nav-link"
          (click)="toggleMobileMenu()"
          data-bs-toggle="collapse"
        >
          <div class="lines">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </a>
        <!-- End mobile menu toggle-->
      </li>

      <li ngbDropdown class="d-none d-xl-block">
        <a
          ngbDropdownToggle
          class="nav-link waves-effect waves-light"
          role="button"
        >
          Create New
          <i class="mdi mdi-chevron-down"></i>
        </a>
        <div ngbDropdownMenu class="dropdown-menu">
          <!-- item-->
          @for (item of newOptions; track $index) {
            <a href="javascript:void(0);" class="dropdown-item">
              <i class="{{ item.icon }} me-1"></i>
              <span>{{ item.label }}</span>
            </a>
          }
        </div>
      </li>

      <li ngbDropdown class="dropdown-mega d-none d-xl-block">
        <a
          ngbDropdownToggle
          class="nav-link waves-effect waves-light"
          role="button"
        >
          Mega Menu
          <i class="mdi mdi-chevron-down"></i>
        </a>
        <div ngbDropdownMenu class="dropdown-menu dropdown-megamenu">
          <div class="row">
            <div class="col-sm-8">
              <div class="row">
                @for (item of megaMenuList; track $index) {
                  <div class="col-md-4">
                    <h5 class="text-dark mt-0">{{ item.title }}</h5>
                    <ul class="list-unstyled megamenu-list">
                      @for (menu of item.menuItems; track menu) {
                        <li>
                          <a href="javascript:void(0);">{{ menu }}</a>
                        </li>
                      }
                    </ul>
                  </div>
                }
              </div>
            </div>
            <div class="col-sm-4">
              <div class="text-center mt-3">
                <h3 class="text-dark">Special Discount Sale!</h3>
                <h4>Save up to 70% off.</h4>
                <button class="btn btn-primary rounded-pill mt-3">
                  Download Now
                </button>
              </div>
            </div>
          </div>
        </div>
      </li>
    </ul>
    <div class="clearfix"></div>
  </div>
</div>
